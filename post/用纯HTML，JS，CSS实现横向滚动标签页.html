<!doctype html><html lang=zh-CN dir=ltr class=scroll-smooth data-default-appearance=light data-auto-appearance=true><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="#FFFFFF"><title>用纯HTML，JS，CSS实现横向滚动标签页 &#183; 低头沉思</title>
<meta name=title content="用纯HTML，JS，CSS实现横向滚动标签页 &#183; 低头沉思"><script type=text/javascript src=/js/appearance.min.8a082f81b27f3cb2ee528df0b0bdc39787034cf2cc34d4669fbc9977c929023c.js integrity="sha256-iggvgbJ/PLLuUo3wsL3Dl4cDTPLMNNRmn7yZd8kpAjw="></script><link type=text/css rel=stylesheet href=/css/main.bundle.min.b0785c8131a75f72b211435af86269eb2d4b81dda03a8f2cf5ccb1c967747167.css integrity="sha256-sHhcgTGnX3KyEUNa+GJp6y1Lgd2gOo8s9cyxyWd0cWc="><script defer type=text/javascript id=script-bundle src=/js/main.bundle.min.af5d9722112bedac95702865c340bcd6286c4e9b2c15ce26b531ea1fba974cb8.js integrity="sha256-r12XIhEr7ayVcChlw0C81ihsTpssFc4mtTHqH7qXTLg=" data-copy data-copied></script><meta name=description content="
      用纯HTML，JS，CSS实现横向滚动标签页
    "><link rel=canonical href=https://bravebuffalo.cc/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5.html><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><meta property="og:url" content="https://bravebuffalo.cc/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5.html"><meta property="og:site_name" content="低头沉思"><meta property="og:title" content="用纯HTML，JS，CSS实现横向滚动标签页"><meta property="og:description" content="用纯HTML，JS，CSS实现横向滚动标签页"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-12T09:23:30+08:00"><meta property="article:modified_time" content="2022-02-12T09:23:30+08:00"><meta property="article:tag" content="前端"><meta property="article:tag" content="CSS"><meta name=twitter:card content="summary"><meta name=twitter:title content="用纯HTML，JS，CSS实现横向滚动标签页"><meta name=twitter:description content="用纯HTML，JS，CSS实现横向滚动标签页"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","articleSection":"Posts","name":"用纯HTML，JS，CSS实现横向滚动标签页","headline":"用纯HTML，JS，CSS实现横向滚动标签页","description":"用纯HTML，JS，CSS实现横向滚动标签页","abstract":"\u003ch3 id=\u0022前言\u0022 class=\u0022relative group\u0022\u003e前言 \u003cspan class=\u0022absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100\u0022\u003e\u003ca class=\u0022group-hover:text-primary-300 dark:group-hover:text-neutral-700\u0022 style=\u0022text-decoration-line: none !important;\u0022 href=\u0022#%e5%89%8d%e8%a8%80\u0022 aria-label=\u0022\u0022\u003e#\u003c\/a\u003e\u003c\/span\u003e\u003c\/h3\u003e\u003cp\u003e前不久，在我的一个项目中，需要展示一个横向滚动的标签页，它支持鼠标横向拖动和点击切换。在实现的过程中，我发现这个小功能需要同时用到前端的三辆马车，但是实现难度不高，而且最终效果还不错，是个难得的初学者项目，于是萌生了写这篇文章的想法，希望对初学者有所帮助。同时为了避免初学者学习框架，我打算用纯原生的方式实现它。\u003c\/p\u003e","inLanguage":"zh-CN","url":"https:\/\/bravebuffalo.cc\/post\/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5.html","author":{"@type":"Person","name":"低头沉思"},"copyrightYear":"2022","dateCreated":"2022-02-12T09:23:30\u002b08:00","datePublished":"2022-02-12T09:23:30\u002b08:00","dateModified":"2022-02-12T09:23:30\u002b08:00","keywords":["前端","CSS"],"mainEntityOfPage":"true","wordCount":"209"}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://bravebuffalo.cc/","name":"低头沉思","position":1},{"@type":"ListItem","item":"https://bravebuffalo.cc/posts/","name":"Posts","position":2},{"@type":"ListItem","item":"https://bravebuffalo.cc/categories/%E5%89%8D%E7%AB%AF/","name":"前端","position":3},{"@type":"ListItem","name":"用纯 Html， Js， Css实现横向滚动标签页","position":4}]}</script><meta name=author content="低头沉思"><link href=mailto:honguilee@163.com rel=me><link href=https://github.com/hongui rel=me><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9595252324232542" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-9W0KC5D9EZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9W0KC5D9EZ")</script></head><body class="m-auto flex h-screen max-w-7xl flex-col bg-neutral px-6 text-lg leading-7 text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="-translate-y-8 rounded-b-lg bg-primary-200 px-3 py-1 text-sm focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="pe-2 font-bold text-primary-600 dark:text-primary-400">&darr;</span></a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral sm:py-10 print:hidden"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a href=/ class=mr-2><img src=/images/logo.png width=500 height=500 class="max-h-[10rem] max-w-[10rem] object-scale-down object-left" alt=低头沉思>
</a><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/>低头沉思</a></div><ul class="flex list-none flex-col text-end sm:flex-row"><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/posts/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">文章</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/categories/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">分类</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/tags/ title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">标签</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><a href=/about.html title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">关于</span></a></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><button id=search-button-1 title>
<span class="group-dark:hover:text-primary-400 transition-colors group-hover:text-primary-600"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>
</span></span><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2"></span></button></li><li class="group mb-1 sm:mb-0 sm:me-7 sm:last:me-0.5"><div class="group relative"><button class="group-dark:hover:text-primary-400 flex w-full items-center justify-end transition-colors group-hover:text-primary-600">
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 16 16"><path fill="currentcolor" d="M4.545 6.714 4.11 8H3l1.862-5h1.284L8 8H6.833l-.435-1.286H4.545zm1.634-.736L5.5 3.956h-.049l-.679 2.022H6.18z"/><path fill="currentcolor" d="M0 2a2 2 0 012-2h7a2 2 0 012 2v3h3a2 2 0 012 2v7a2 2 0 01-2 2H7a2 2 0 01-2-2v-3H2A2 2 0 010 9V2zm2-1A1 1 0 001 2v7a1 1 0 001 1h7a1 1 0 001-1V2A1 1 0 009 1H2zm7.138 9.995c.193.301.402.583.63.846-.748.575-1.673 1.001-2.768 1.292.178.217.451.635.555.867 1.125-.359 2.08-.844 2.886-1.494.777.665 1.739 1.165 2.93 1.472.133-.254.414-.673.629-.89-1.125-.253-2.057-.694-2.82-1.284.681-.747 1.222-1.651 1.621-2.757H14V8h-3v1.047h.765c-.318.844-.74 1.546-1.272 2.13a6.066 6.066.0 01-.415-.492 1.988 1.988.0 01-.94.31z"/></svg>
</span><span class=text-sm>ZH-CN</span><span class=text-[0.6rem]><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M233.4 406.6c12.5 12.5 32.8 12.5 45.3.0l192-192c12.5-12.5 12.5-32.8.0-45.3s-32.8-12.5-45.3.0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3.0s-12.5 32.8.0 45.3l192 192z"/></svg></span></span></button><div class="invisible w-full bg-transparent group-hover:visible"></div><div class="invisible absolute z-50 flex flex-col whitespace-nowrap rounded border border-neutral-300 bg-neutral text-start text-base shadow group-hover:visible ltr:right-0 rtl:left-0 dark:border-neutral-600 dark:bg-neutral-800"><div class="flex flex-grow"><a href=/en/post/horizontal%20scrolling%20tabs%20with%20plain%20HTML,%20JS,%20CSS.html class="w-full py-1 pe-10 ps-2 decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2">English</a></div><div class="flex flex-grow"><a href=/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5.html class="flex w-full items-center justify-between bg-primary-100 px-2 py-1 dark:bg-primary-900">简体中文<span class="ms-2 w-6 text-primary-600 dark:text-primary-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 448 512"><path fill="currentcolor" d="M438.6 105.4c12.5 12.5 12.5 32.7.0 45.2l-256 256c-12.5 12.5-32.7 12.5-45.2.0L9.372 278.6c-12.496-12.5-12.496-32.7.0-45.2 12.498-12.5 32.758-12.5 45.258.0L159.1 338.7 393.4 105.4c12.5-12.52 32.7-12.52 45.2.0h0z"/></svg></span></span></a></div></div></div></li></ul></nav></header><div class="relative flex grow flex-col"><main id=main-content class=grow><article><header class=max-w-prose><h1 class="mb-8 mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">用纯HTML，JS，CSS实现横向滚动标签页</h1><div class="mb-10 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime="2022-02-12 09:23:30 +0800 +0800"></time><span class="px-2 text-primary-500">&#183;</span><span title></span></div></div></header><section class="prose mt-0 flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-h-0 min-w-0 max-w-prose grow"><h3 id=前言 class="relative group">前言 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%89%8d%e8%a8%80 aria-label>#</a></span></h3><p>前不久，在我的一个项目中，需要展示一个横向滚动的标签页，它支持鼠标横向拖动和点击切换。在实现的过程中，我发现这个小功能需要同时用到前端的三辆马车，但是实现难度不高，而且最终效果还不错，是个难得的初学者项目，于是萌生了写这篇文章的想法，希望对初学者有所帮助。同时为了避免初学者学习框架，我打算用纯原生的方式实现它。</p><p>我们最终的效果应该类似于下面：<figure><picture class="mx-auto my-0 rounded-md"><source srcset="/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu16222771193505366166.webp 330w,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu11509196458741050228.webp 660w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu6824691194756108074.webp 839w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu6824691194756108074.webp 839w" sizes=100vw type=image/webp><img width=839 height=113 class="mx-auto my-0 rounded-md" alt=last_version loading=lazy decoding=async src=/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu10038783350837340071.png srcset="/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu8912413893019607538.png 330w,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version_hu10038783350837340071.png 660w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version.png 839w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/last_version.png 839w" sizes=100vw></picture></figure></p><h3 id=需求分析 class="relative group">需求分析 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e9%9c%80%e6%b1%82%e5%88%86%e6%9e%90 aria-label>#</a></span></h3><p>需求分析就是细化我们需要完成的功能，某个功能的完成需要哪些技术的参与。对于初学者，需求分析至关重要，它可以帮助我们理清思路，找到解决问题的突破口，所以应该引起足够的重视。以本篇目标为例，标签页的需求分析就可以像下面这样：</p><ol><li>我们的展示主体是标签页，HTML就是实现主体的主要技术；</li><li>标签页需要可以拖动和点击，这涉及到鼠标事件的监听和处理，是JS的主场；</li><li>既然标签页可以拖动了，那是否要隐藏那个丑陋的滚动条，加个活动指示器，给鼠标变一个样式？很明显，这些都是CSS的优势。</li></ol><p>如上，通过对展示，操作，样式的划分，我们进一步明确了HTML，JS，CSS需要完成的工作，甚至连实现都明朗了，所以对需求拆分得越详细，对实现就越有掌控力。</p><h3 id=基本框架 class="relative group">基本框架 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%9f%ba%e6%9c%ac%e6%a1%86%e6%9e%b6 aria-label>#</a></span></h3><p>对于前端来说，HTML始终是万物之源，所以一言不合先构筑个标准的HTML页面总是没错的。为了便于演示，我将所有的内容都放在一个HTML文件中，文件结构如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=cp>&lt;!DOCTYPE html&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width, initial-scale=1&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>Tab演示<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- 这里是样式区，后续css代码会添加到这里 --&gt;</span>
</span></span><span class=line><span class=cl>	<span class=p>&lt;</span><span class=nt>style</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		
</span></span><span class=line><span class=cl>	<span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	<span class=c>&lt;!-- 这里是页面区，后续HTML代码会添加到这里 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=c>&lt;!-- 这里是脚本区，后续JS代码会添加到这里,放在这里是因为方便写代码 --&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/javascript&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>这里和以往不同，我将<code>script</code>放到了最后，这是因为我想在写脚本的时候，页面标签直接可用，减少对页面加载的监听，降低复杂性。</p><h3 id=实现基本功能 class="relative group">实现基本功能 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%ae%9e%e7%8e%b0%e5%9f%ba%e6%9c%ac%e5%8a%9f%e8%83%bd aria-label>#</a></span></h3><p>有了基本结构，下一步当然是画页面啦。从效果图中不难看出，页面主要包括一个一个的选项卡，对于HTML来说，这不就是列表嘛。于是，突破口就出现了，我们先往HTML里面加入列表</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>肖申克的救赎<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>霸王别姬<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>阿甘正传<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>泰坦尼克号<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>这个杀手不太冷<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>美丽人生<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>千与千寻<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>辛德勒的名单<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>盗梦空间<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>		<span class=p>&lt;</span><span class=nt>li</span><span class=p>&gt;</span>忠犬八公的故事<span class=p>&lt;/</span><span class=nt>li</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>ul</span><span class=p>&gt;</span>
</span></span></code></pre></div><p>于是，我们有了原始的标签页。但是标签页是竖向的，并且有着丑陋的小黑点，不符合需求。<figure><picture class="mx-auto my-0 rounded-md"><source srcset="/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu5433128260080950121.webp 330w,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu17642073886108991664.webp 660w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu14051845183787926673.webp 846w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu14051845183787926673.webp 846w" sizes=100vw type=image/webp><img width=846 height=298 class="mx-auto my-0 rounded-md" alt=pure_html loading=lazy decoding=async src=/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu3437060332844751683.png srcset="/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu18392905936235650400.png 330w,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html_hu3437060332844751683.png 660w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html.png 846w
,/post/%E7%94%A8%E7%BA%AFHTML%EF%BC%8CJS%EF%BC%8CCSS%E5%AE%9E%E7%8E%B0%E6%A8%AA%E5%90%91%E6%BB%9A%E5%8A%A8%E6%A0%87%E7%AD%BE%E9%A1%B5/pure_html.png 846w" sizes=100vw></picture></figure>发现了这些问题，下一步当然解决这些问题了，这当然就是CSS的强项啦。首要问题就是让列表横过来。横过来就是改变了元素的相对位置，也就是对应CSS的布局功能。那说起布局，CSS的布局方式有很多，像<code>float</code>,<code>position</code>等等。标签页是横向多个紧密排列的，一个挨着一个，这当然是用<code>flex</code>啦。至于讨厌的小黑点，这是新东西，需要百度一下。查阅文档发现，<code>ul</code>有个属性<code>list-style-type</code>，只需把它设置为<code>none</code>就可以去除小黑点。
此时，页面上的所有选项卡都紧密排列了。为了让它更像一个选项卡，需要给它居中，限制一下宽度，加个背景色，加点padding。下面就是改完样式的代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>ul</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>display</span><span class=p>:</span> <span class=kc>flex</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>justify-content</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>align-content</span><span class=p>:</span> <span class=kc>center</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>list-style-type</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>background-color</span><span class=p>:</span> <span class=mh>#2397f3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>width</span><span class=p>:</span> <span class=mi>600</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>overflow-x</span><span class=p>:</span> <span class=kc>scroll</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>li</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>padding</span><span class=p>:</span> <span class=mi>16</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>flex-shrink</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>值得注意的地方有两点。在<code>ul</code>的样式中，由于给<code>ul</code>加了宽度限制，导致它的内容超出了内容区，所以要给<code>ul</code>加上<code>overflow-x</code>的属性。同样由于宽度的原因，<code>flex</code>子项在宽度不够的情况下会默认缩小，表现在标签上就是文字换行啦，<code>flex-shrink: 0;</code>就是让子项保留原有大小。此时，再来刷新页面，可以看到选项卡的基本雏形已经出来了。虽然简陋，但是可以拖动滚动条左右滚动了。下一步，我们的目标就是去除这个丑陋的滚动条。网上搜索一番，发现火狐，IE和Chrome的方式不尽相同，为了兼容性，我们就都给写上。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>ul</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=n>scrollbar-width</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span> <span class=c>/* Firefox */</span>
</span></span><span class=line><span class=cl>	<span class=kp>-ms-</span><span class=k>overflow-style</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span> <span class=c>/* IE 10+ */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nt>ul</span><span class=p>::</span><span class=nd>-webkit-scrollbar</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span> <span class=c>/* Chrome Safari */</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>滚动条去除后，UI好看了，但是新问题出现了——选项卡滚动不了了。别着急，下一步就是添加鼠标拖动功能。</p><h3 id=实现交互 class="relative group">实现交互 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%ae%9e%e7%8e%b0%e4%ba%a4%e4%ba%92 aria-label>#</a></span></h3><p>在浏览器中，HTML标签有对系统事件的监听能力，响应这些事件，可以使页面实时响应用户的操作。通过对不同的事件的组合，可以实现各种丰富、有趣的功能，标签页也一样。</p><p>标签页的首要功能是可以随着鼠标的拖动而滚动元素，那么，首要任务就是监听鼠标的移动事件啦。但是光监听移动还不行，因为通常来说，用户在鼠标左键按下后才希望真正拖动，鼠标左键抬起后结束拖动。所以，这个拖动动作其实需要组合鼠标按下（<code>mousedown</code>），移动（<code>mousemove</code>），抬起（<code>mouseup</code>）三个事件。那么这三个方法加在哪，怎么加呢？</p><p>在Web API中，JS操作HTML的入口点是<code>Document</code>对象，<code>Document</code>提供了操作（增删改查）HTML元素的API。这一过程是有标准流程的。</p><ol><li>通过<code>Document</code>查找目标元素；</li><li>对目标元素进行元素，样式变更等操作；</li><li>变更完成；</li></ol><p>这一过程是重复且繁杂的，为了减少编写这样的样板代码，加快开发速度，一大堆前端框架应运而生。所以，在学习前端框架时，牢记这一基本步骤，有助于快速理解框架的运行原理。毕竟无论框架怎么变，最终都是要落实到这一过程上。</p><p>算法明确后，接下来就是具体实现。</p><h4 id=查找目标元素 class="relative group">查找目标元素 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%9f%a5%e6%89%be%e7%9b%ae%e6%a0%87%e5%85%83%e7%b4%a0 aria-label>#</a></span></h4><p>在查找目标前，需要首先明确目标是谁。用户肯定不希望在页面的其他地方拖动鼠标，标签页跟着滚动了，这很奇怪。所以我们的目标元素应该是无序列表。那么，怎样通过<code>Document</code>知道无序列表呢，查阅<code>Document</code>的API，发现它有个<code>querySelector</code>的方法，这个方法会从上到下查找满足条件的选择器，并返回第一个满足条件的元素，参数则是选择器的名称。上面已经明确过我们的目标是无序列表，所以查找目标元素的最终代码如下</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ul</span><span class=o>=</span><span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;ul&#39;</span><span class=p>);</span>
</span></span></code></pre></div><h4 id=让列表滚起来 class="relative group">让列表滚起来 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e8%ae%a9%e5%88%97%e8%a1%a8%e6%bb%9a%e8%b5%b7%e6%9d%a5 aria-label>#</a></span></h4><p>每一个HTML元素，在JS中都是<code>Element</code>的对象。上一步我们已经得到了一个<code>Element</code>对象<code>ul</code>,注意，这里的<code>ul</code>对象和<code>ul</code>标签不尽相同。一个是JS的对象对HTML标签的表示，一个是HTML标签。现在有了一个对象，那么就可以通过调用合适的方法来操作这个对象了。通过查阅<code>Element</code>对象的API，发现它有个<code>addEventListener()</code>的方法，这个方法可以完成该对象表示的HTML标签对某些事件的监听。这个方法接收两个参数，第一个参数是事件名称，这在上一节已经说过。第二个参数则是对这个事件的处理，这也是我们实现魔法的地方。</p><p>首先，在用户按下鼠标左键后，开始记录鼠标移动情况。在鼠标左键抬起后，停止记录。所以按下和抬起的主要功能就是维护记录开关，控制标签滚动的动作得在鼠标移动的回调里处理。</p><p>但在真正写逻辑前，还有两个问题没有处理。
1、怎样让标签滚动？
2、滚动的逻辑怎样写？
问题一当然需要查阅<code>Element</code>的API啦。搜索滚动相关的，发现两个相关性比较大的方法——<code>scrollBy()</code>，<code>scrollTo()</code>，都可以滚动内容。唯一的区别是前者的参数是滚动的偏移，后者是最终值。由于鼠标移动是一点一点的，所以选择前者会更方便一点。确定了方法，也就解答了问题一。对于问题二，简单来说就是怎样提供问题一所需的参数。<code>scrollBy()</code>需要两个参数，横向和纵向的滚动偏移值，由于我们只希望标签页可以横向滚动，所以纵向的偏移始终是0，那么横向的呢？通常事件回调都会传递一个事件对象，称作<code>MouseEvent</code>，我们去查查事件对象的API，发现里面带有好几个关于坐标的属性——<code>clientX</code>，<code>movementX</code>，<code>screenX</code>。<code>movementX</code>直接就满足我们的需求，它代表上一次鼠标移动到这一次移动间的偏移，而刚好<code>scrollBy()</code>需要的参数就是偏移，妥了。
综上，得出以下代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kr>const</span> <span class=nx>ul</span><span class=o>=</span><span class=nb>document</span><span class=p>.</span><span class=nx>querySelector</span><span class=p>(</span><span class=s1>&#39;ul&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>isMouseDown</span><span class=o>=</span><span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>ul</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;mousedown&#39;</span><span class=p>,(</span><span class=nx>e</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>	<span class=nx>isMouseDown</span><span class=o>=</span><span class=kc>true</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>ul</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;mousemove&#39;</span><span class=p>,(</span><span class=nx>e</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span><span class=p>(</span><span class=nx>isMouseDown</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nx>ul</span><span class=p>.</span><span class=nx>scrollBy</span><span class=p>(</span><span class=o>-</span><span class=nx>e</span><span class=p>.</span><span class=nx>movementX</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span><span class=line><span class=cl><span class=nx>ul</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;mouseup&#39;</span><span class=p>,(</span><span class=nx>e</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>	<span class=nx>isMouseDown</span><span class=o>=</span><span class=kc>false</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></div><p>可以看到，在<code>mousemove</code>的处理上，偏移加了个负号。因为在HTML页面中左上角为坐标原点，右边为X轴正方向。一直往右，则X坐标是增大的，而<code>movementX</code>的值是当前鼠标坐标与上一次坐标点的差值，上一次肯定比这一次小，两者的差值肯定是正值。基于同样的原因，<code>scrollBy()</code>参数正值代表增大X值，也就是显示右边的内容，隐藏左边的内容。两者结合的效果就是，鼠标往右拖，标签页右边隐藏的内容展示了出来，这和直觉相悖。通常我们希望鼠标往右拖，页面展示左边的内容，隐藏右边的。基于这样的分析，我们需要给<code>movementX</code>的值取反。</p><h4 id=显示当前选中的标签页 class="relative group">显示当前选中的标签页 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%98%be%e7%a4%ba%e5%bd%93%e5%89%8d%e9%80%89%e4%b8%ad%e7%9a%84%e6%a0%87%e7%ad%be%e9%a1%b5 aria-label>#</a></span></h4><p>现在，标签页可以滚动了，但是还不能选中。我希望点击某个标签时，标签下方出现一个小横条表示选中状态。很明显，显示小横条是一个CSS的问题，而点击标签切换小横条是JS的问题，这一次我们需要同时处理JS和CSS的问题。</p><p>首先来显示小横条。显示小横条有两个思路，一种是在HTML中搞个<code>div</code>标签，另一种是使用<code>::after</code>伪元素。我选择后一种，这样可以保持HTML的干净。
接下来需要确定小横条的样式</p><ul><li>覆盖在选中的标签上</li><li>位置是标签底部</li><li>和标签一样长</li></ul><p>我们知道正常的HTML文档流是从左到右，从上到下的，新加的元素会追加到已有元素的右边或者下边。小横条需要覆盖在标签上，那么就要改变这一默认行为，<code>position</code>属性就是实现这个功能的关键。<code>absolute</code>，<code>fixed</code>都可以脱离正常文档流，使元素覆盖在祖先元素上，不同的是前者是相对于最近的定位祖先，后者是相当于视口的。小横条是跟随着标签显示的，显然要使用前者。确定了位置，还有大小和样式。既然使用了绝对定位，那么<code>bottom</code>,<code>left'</code>,<code>right</code>相应就能限定它的位置和大小了，小横条的样式就直接用<code>border-bottom</code>吧。于是，小横条的样式就出来了</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>.</span><span class=nc>current</span><span class=p>::</span><span class=nd>after</span><span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=k>content</span><span class=p>:</span> <span class=s2>&#34;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>position</span><span class=p>:</span> <span class=kc>absolute</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>border-bottom</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=mh>#FFC109</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>border-radius</span><span class=p>:</span> <span class=mi>2</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>bottom</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>left</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=k>right</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>结束了吗，还没有！使用了绝对定位，必须时刻记得给绝对定位的元素找个锚点，也就是参照，不然<code>top</code>,<code>left</code>，<code>right</code>，<code>bottom</code>去参考谁呢？那么怎样告诉绝对定位的参照物呢，还是<code>position</code>属性。只不过这一次它要出现在参照物的CSS里面。而由前面的样式分析，小横条始终跟着标签页走，也就是说小横条的参照物就是标签页。所以，还要在标签页的样式上加上<code>position</code>的属性。当然，为了区分更明显，我还改变了一下颜色。</p><pre tabindex=0><code>.current{
			color: white;
			position: relative;
}
</code></pre><p>至此，小横条可以正常显示出来了。</p><h4 id=小横条跟随鼠标点击显示 class="relative group">小横条跟随鼠标点击显示 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%b0%8f%e6%a8%aa%e6%9d%a1%e8%b7%9f%e9%9a%8f%e9%bc%a0%e6%a0%87%e7%82%b9%e5%87%bb%e6%98%be%e7%a4%ba aria-label>#</a></span></h4><p>有了前面拖动功能的经验支持，这一次轻车熟路了，鼠标点击某个标签页，小横条显示在对应的标签页下方。这一次事件的对象变成了单个标签页，所以点击事件要加在单个标签页上。但是这一次标签页太多了，我们不能还是按照之前的查找-设置方法，这样太繁杂了。巧合的是，前面我们已经得到了<code>ul</code>对象了，通过它的<code>children</code>属性，可以得到所有的<code>li</code>，这不就妥了吗。
小横条要切换到不同的标签页上显示，也就是小横条这个样式要根据点击对象的不同而动态增加或者删除。查阅<code>Element</code>的API，发现有个<code>className</code>的属性，改变它的值就可以增减样式了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>last</span><span class=o>=</span><span class=kc>null</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>for</span><span class=p>(</span><span class=kd>let</span> <span class=nx>l</span> <span class=k>of</span> <span class=nx>ul</span><span class=p>.</span><span class=nx>children</span><span class=p>){</span>
</span></span><span class=line><span class=cl>		<span class=nx>l</span><span class=p>.</span><span class=nx>addEventListener</span><span class=p>(</span><span class=s1>&#39;click&#39;</span><span class=p>,(</span><span class=nx>e</span><span class=p>)=&gt;{</span>
</span></span><span class=line><span class=cl>			<span class=k>if</span><span class=p>(</span><span class=nx>last</span><span class=p>){</span>
</span></span><span class=line><span class=cl>				<span class=nx>last</span><span class=p>.</span><span class=nx>className</span><span class=o>=</span><span class=s1>&#39;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=p>}</span>
</span></span><span class=line><span class=cl>			<span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>.</span><span class=nx>className</span><span class=o>=</span><span class=s1>&#39;current&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>			<span class=nx>last</span><span class=o>=</span><span class=nx>e</span><span class=p>.</span><span class=nx>target</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=p>})</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>代码的实现中，多了个<code>last</code>对象。因为通常标签页只能同时选中一个，当新的标签页被选中之后，上一个选中的标签页应该恢复原始样式，这就是<code>last</code>对象的作用。我们先取消选中上一个元素，然后再选中当前点击的对象，这样就完成了小横条跟随点击选中的效果了。</p><h3 id=总结 class="relative group">总结 <span class="absolute top-0 w-6 transition-opacity opacity-0 -start-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e6%80%bb%e7%bb%93 aria-label>#</a></span></h3><p>总的来说，这个项目的难点不在于实现有多难，而是新。很多初学者，面对这种新问题往往束手无策，找不到切入点。本篇尝试以例子的形式，以初学者的思维方式分析需求，拆解问题，提炼方法，最终解决问题。从最朴素的直觉出发，引导思考，找到一条易于接受和理解的方法。</p><p>所以，遇到新问题不要慌，对问题拆解后，看能不能找到突破口，如果找不到，再从涉及到的几个主要对象中寻找灵感，通常都会有所收获。最后就是多逛逛MDN，关键时刻真能派上大用场。</p><p>最后，情人节快乐，祝有情人终成眷属！</p><p>参考</p><ul><li>[1] <a href=https://www.cnblogs.com/jofun/p/11158145.html target=_blank rel=noreferrer>使用CSS隐藏元素滚动条</a></li><li>[2] <a href=https://developer.mozilla.org/zh-CN/docs/Web/API/Element target=_blank rel=noreferrer>Element</a></li><li>[3] <a href=https://developer.mozilla.org/zh-CN/docs/Web/Events target=_blank rel=noreferrer>事件参考</a></li><li>[4] <a href=https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent target=_blank rel=noreferrer>MouseEvent</a></li></ul></div></section><footer class="max-w-prose pt-8 print:hidden"><div class=flex><picture class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full"><img width=1000 height=1000 class="!mb-0 !mt-0 me-4 w-24 h-auto rounded-full" alt=低头沉思 loading=lazy decoding=async src=/images/logo_hu1444715804356428735.png srcset="/images/logo_hu10122803172005691567.png 330w,/images/logo_hu1444715804356428735.png 660w
,/images/logo.png 1000w
,/images/logo.png 1000w" sizes=100vw></picture><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400"></div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">低头沉思</div><div class="text-2xl sm:text-lg"><div class="flex flex-wrap text-neutral-400 dark:text-neutral-500"><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=mailto:honguilee@163.com target=_blank aria-label=Email rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 512 512"><path fill="currentcolor" d="M207.8 20.73c-93.45 18.32-168.7 93.66-187 187.1-27.64 140.9 68.65 266.2 199.1 285.1 19.01 2.888 36.17-12.26 36.17-31.49l1e-4-.6631c0-15.74-11.44-28.88-26.84-31.24-84.35-12.98-149.2-86.13-149.2-174.2.0-102.9 88.61-185.5 193.4-175.4 91.54 8.869 158.6 91.25 158.6 183.2v16.16c0 22.09-17.94 40.05-40 40.05s-40.01-17.96-40.01-40.05v-120.1c0-8.847-7.161-16.02-16.01-16.02l-31.98.0036c-7.299.0-13.2 4.992-15.12 11.68-24.85-12.15-54.24-16.38-86.06-5.106-38.75 13.73-68.12 48.91-73.72 89.64-9.483 69.01 43.81 128 110.9 128 26.44.0 50.43-9.544 69.59-24.88 24 31.3 65.23 48.69 109.4 37.49C465.2 369.3 496 324.1 495.1 277.2V256.3c0-149.2-133.9-265.632-287.3-235.57zM239.1 304.3c-26.47.0-48-21.56-48-48.05s21.53-48.05 48-48.05 48 21.56 48 48.05-20.6 48.05-48 48.05z"/></svg>
</span></a><a class="px-1 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/hongui target=_blank aria-label=Github rel="me noopener noreferrer"><span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 496 512"><path fill="currentcolor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></div></div></div></div><div class=pt-8><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex justify-between pt-3"><span><a class="group flex" href=/post/Android-JNI%E5%BC%80%E5%8F%91%E6%A6%82%E8%AE%BA.html><span class="me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span><span class="ltr:hidden rtl:inline">&rarr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Android-JNI开发概论</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2021-09-12 21:34:45 +0800 +0800"></time>
</span></span></a></span><span><a class="group flex text-right" href=/post/Linux%E6%89%B9%E9%87%8F%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E2%80%94%E2%80%94%E5%9F%BA%E4%BA%8Efind,xargs.html><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Linux批量文件操作——基于find,xargs</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400"><time datetime="2022-02-18 21:19:39 +0800 +0800"></time>
</span></span><span class="ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[-2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&rarr;</span><span class="ltr:hidden rtl:inline">&larr;</span></span></a></span></div></div></footer></article></main><div class="pointer-events-none absolute bottom-0 end-0 top-[100vh] w-12" id=to-top hidden=true><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label title>&uarr;</a></div><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">&copy;
2024
低头沉思</p><p class="text-xs text-neutral-500 dark:text-neutral-400"></p></div><div class="flex flex-row items-center"></div></div></footer><div id=search-wrapper class="invisible fixed inset-0 z-50 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]" data-url=https://bravebuffalo.cc/><div id=search-modal class="top-20 mx-auto flex min-h-0 w-full max-w-3xl flex-col rounded-md border border-neutral-200 bg-neutral shadow-lg dark:border-neutral-700 dark:bg-neutral-800"><header class="relative z-10 flex flex-none items-center justify-between px-2"><form class="flex min-w-0 flex-auto items-center"><div class="flex h-8 w-8 items-center justify-center text-neutral-400"><span class="icon relative inline-block px-1 align-text-bottom"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" viewBox="0 0 512 512"><path fill="currentcolor" d="M505 442.7 405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9.0 208 0S0 93.1.0 208s93.1 208 208 208c48.3.0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9.0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7.0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7.0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg></span></div><input type=search id=search-query class="mx-1 flex h-12 flex-auto appearance-none bg-transparent focus:outline-dotted focus:outline-2 focus:outline-transparent" placeholder tabindex=0></form><button id=close-search-button class="flex h-8 w-8 items-center justify-center text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400" title>
<span class="icon relative inline-block px-1 align-text-bottom"><svg viewBox="0 0 320 512"><path fill="currentcolor" d="M310.6 361.4c12.5 12.5 12.5 32.75.0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3 54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75.0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75.0-45.25s32.75-12.5 45.25.0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25.0s12.5 32.75.0 45.25l-105.4 105.4L310.6 361.4z"/></svg></span></button></header><section class="flex-auto overflow-auto px-2"><ul id=search-results></ul></section></div></div></div></body></html>